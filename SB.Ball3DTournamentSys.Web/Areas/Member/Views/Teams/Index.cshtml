@model List<TeamListDto>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<h2 class="mt-4 mb-2 text-center"><i class="fas fa-users mr-2"></i>My Teams</h2>

<div><a asp-action="Create" class="btn btn-info my-2">Create New Team</a></div>

<table class="table table-hover table-bordered shadow">
    <tr>
        <th>Team Name</th>
        <th>Team Tag</th>
        <th>Role</th>
        <th><i class="fas fa-edit mr-2"></i><strong>Edit</strong> | Delete<i class="fas fa-trash-alt ml-2"></i></th>
    </tr>
    @foreach (var item in Model)
    {
        bool isOwner = ViewBag.CurrentUserId == item.AppUserId;
        <tr>
            <td>@item.Name</td>
            <td>@item.Tag</td>
            <td class="@(isOwner ? "text-info" : "text-primary")">@(isOwner ? "OWNER" : "USER")</td>
            @if (!isOwner)
            {
                <td><a asp-action="Edit" asp-route-id="@item.Id"><i class="fas fa-edit mr-2"></i><strong>Edit</strong></a> | <a asp-route-id="@item.Id" asp-action="Remove">Delete<i class="fas fa-trash-alt ml-2"></i></a></td>
                <td></td>
            }
            else
            {
                <td><a asp-action="Edit" asp-route-id="@item.Id"><i class="fas fa-edit mr-2"></i><strong>Edit</strong></a> | <a asp-route-id="@item.Id" asp-action="Remove">Delete<i class="fas fa-trash-alt ml-2"></i></a> | <a asp-action="GenerateInviteLink"><span class="badge badge-success badge-pill p-2" style="font-size:small"><i class="fas fa-envelope mr-2"></i>Generate Invite Link</span></a></td>
            }
        </tr>
    }
</table>
